# 중앙처리장치(CPU) 작동 원리

CPU는 컴퓨터에서 가장 핵심적인 역할을 수행하는 부분으로, '인간의 두뇌'에 해당한다.  
크게 **연산장치**, **제어장치**, **레지스터** 세 가지로 구성된다.

---

## 연산 장치 (ALU)

- 산술연산과 논리연산을 수행  
  → 따라서 **산술논리연산장치(ALU)** 라고도 불린다.
- 연산에 필요한 데이터를 **레지스터**에서 가져오고, 연산 결과를 다시 **레지스터**로 보낸다.

---

## 제어 장치 (Control Unit)

- 명령어를 **순서대로 실행**할 수 있도록 제어하는 장치
- **주기억장치**에서 프로그램 명령어를 꺼내 **해독**하고,  
  그 결과에 따라 명령어 실행에 필요한 **제어 신호**를 기억장치, 연산장치, 입출력장치로 보낸다.
- 이들 장치가 보낸 **신호를 받아**, 다음에 수행할 동작을 결정한다.

---

## 레지스터 (Register)

- 매우 빠른 속도의 **고속 기억장치**
- 명령어 주소, 코드, 연산 데이터, 결과 등을 임시 저장
- 용도에 따라 **범용 레지스터**와 **특수목적 레지스터**로 구분됨
- CPU 종류에 따라 레지스터의 **개수와 크기**가 다름

### 범용 레지스터

- 연산에 필요한 데이터나 결과를 **임시 저장**

### 특수목적 레지스터

- 특별한 용도로 사용하는 레지스터

| 레지스터                          | 설명                                         |
| --------------------------------- | -------------------------------------------- |
| **MAR** (Memory Address Register) | 읽기/쓰기 연산을 수행할 주기억장치 주소 저장 |
| **PC** (Program Counter)          | 다음에 수행할 명령어의 주소 저장             |
| **IR** (Instruction Register)     | 현재 실행 중인 명령어 저장                   |
| **MBR** (Memory Buffer Register)  | 주기억장치에서 읽거나 쓸 데이터를 임시 저장  |
| **AC** (Accumulator)              | 연산 결과를 임시 저장                        |

---

## CPU의 동작 과정

1. 주기억장치는 **입력장치**에서 받은 데이터 또는 **보조기억장치**에 저장된 프로그램을 읽어옴
2. CPU는 주기억장치에 저장된 명령어와 데이터를 읽어와 **처리**
3. 결과를 주기억장치에 저장하거나 **출력장치**로 보냄
4. **제어장치**가 1~3의 과정을 순서대로 실행되도록 **제어**

---

## 명령어 세트란?

- CPU가 실행할 수 있는 **명령어의 집합**
- 형식: `연산 코드 (Opcode)` + `피연산자 (Operand)`

| 구성 요소 | 설명                                         |
| --------- | -------------------------------------------- |
| 연산 코드 | 어떤 연산을 할지 지정 (예: ADD, SUB 등)      |
| 피연산자  | 연산에 사용할 데이터 또는 데이터가 있는 주소 |

- 연산 코드는 연산, 제어, 데이터 전달, 입출력 등의 기능을 수행
- 피연산자는 숫자, 주소, 논리값 등 다양할 수 있음

---

## 명령어 사이클 (Instruction Cycle)

CPU가 프로그램을 실행하기 위해 수행하는 일련의 과정  
→ **명령어를 순차적으로 인출, 해석, 실행**

- 종류:
  - **인출 사이클 (Fetch Cycle)**
  - **실행 사이클 (Execute Cycle)**
  - **간접 사이클**, **인터럽트 사이클** 등

### 인출 사이클 단계

1. `PC`에 저장된 주소를 `MAR`로 전달
2. `MAR`의 주소에서 **명령어를 읽어와** `MBR`에 저장
3. 다음 명령어를 위해 `PC` 값 증가
4. `MBR`의 값을 `IR`로 전달

```plaintext
T0: MAR ← PC
T1: MBR ← M[MAR], PC ← PC+1
T2: IR ← MBR
```
